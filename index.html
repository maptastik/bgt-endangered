<!DOCTYPE html>
<html>
<head>
    <title>Bluegrass Trust, 11 in the 11th Hour 2015</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- CSS -->
    <link rel="icon" type="image/png" href="http://i1368.photobucket.com/albums/ag172/gscplanning/logo-favicon_zpsagngw6so.png" />
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.css" />
    <!--[if lte IE 8]><link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.ie.css" /><![endif]-->
    <link rel="stylesheet" href="css/leaflet-sidebar.css" />
    <link rel="stylesheet" href="css/jquery-ui-1.10.3.custom.min.css" />
    <link rel="stylesheet" href="css/style.css" />
    
    <!-- Load jQuery UI -->
    <script src="js/jquery-1.9.1.js"></script>
    <script src="js/jquery-ui-1.10.3.custom.min.js"></script>
    <script>
      $(function() {
        $( "#accordion" ).accordion({
          collapsible: true,
          active: false,
          icons: null
        });
      });
    </script>
</head>
<body>
    <!-- Add a nice responsive sidebar using the sidebar-2 plugin -->
    <!-- https://github.com/turbo87/sidebar-v2/ -->
    <div id="sidebar" class="sidebar">
        <!-- Nav tabs -->
        <ul class="sidebar-tabs" role="tablist">
            <li class="active"><a href="#home" class="sidebar-nav " role="tab"><i class="fa fa-bars"></i></a></li>
            <li><a href="#sources" class="sidebar-nav" role="tab"><i class="fa fa-info"></i></a></li>
        </ul>

        <!-- Tab panes -->
        <div class="sidebar-content active">

            <!-- Main tab -->
            <div class="sidebar-pane map-navigation active" id="home">
                <h1>BGT's Endangered List</h1>
                <h3 class="subtitle"><em>Eleven* in their Eleventh Hour</em><h3>
                <p class="note">*This list contains 13 distinct locations in 11 counties<p>
                <div id="accordion">
                      <h3><a href='' data-zoom='18' data-position='38.137791,-84.298698'>Cedar Grove<br><span class="accordion-county">Bourbon County</span></a><hr class="top"></h3>

                      <div>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum pretium tempus lorem in tempor. Vestibulum eu pharetra leo. Vestibulum vulputate justo tincidunt tellus posuere posuere. Cras arcu nibh, molestie quis lectus non, consectetur rutrum libero. Praesent tincidunt turpis vel risus lacinia placerat. Integer volutpat eleifend tellus. Nam sed ante nec odio varius porta. Nullam elementum, ante sed sagittis condimentum, dolor enim varius felis, sit amet luctus lectus arcu non dolor.</p><hr class="bottom">
                      </div>
                      <h3><a href='' data-zoom='18' data-position='38.282476,-84.241454'>John &amp; John T. Redmon House<br><span class="accordion-county">Bourbon County</span></a><hr class="top"></h3>
                      <div>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum pretium tempus lorem in tempor. Vestibulum eu pharetra leo. Vestibulum vulputate justo tincidunt tellus posuere posuere. Cras arcu nibh, molestie quis lectus non, consectetur rutrum libero. Praesent tincidunt turpis vel risus lacinia placerat. Integer volutpat eleifend tellus. Nam sed ante nec odio varius porta. Nullam elementum, ante sed sagittis condimentum, dolor enim varius felis, sit amet luctus lectus arcu non dolor.</p><hr class="bottom">
                      </div>
                      <h3><a href='' data-zoom='18' data-position='37.646047,-84.772779'>Citizens National Bank<br><span class="accordion-county">Boyle County</span></a><hr class="top"></h3>
                      <div>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum pretium tempus lorem in tempor. Vestibulum eu pharetra leo. Vestibulum vulputate justo tincidunt tellus posuere posuere. Cras arcu nibh, molestie quis lectus non, consectetur rutrum libero. Praesent tincidunt turpis vel risus lacinia placerat. Integer volutpat eleifend tellus. Nam sed ante nec odio varius porta. Nullam elementum, ante sed sagittis condimentum, dolor enim varius felis, sit amet luctus lectus arcu non dolor.</p><hr class="bottom">
                      </div>
                      <h3><a href='' data-zoom='18' data-position='37.648598,-84.952'>Dr. Polk House<br><span class="accordion-county">Boyle County</span></a><hr class="top"></h3>
                      <div>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum pretium tempus lorem in tempor. Vestibulum eu pharetra leo. Vestibulum vulputate justo tincidunt tellus posuere posuere. Cras arcu nibh, molestie quis lectus non, consectetur rutrum libero. Praesent tincidunt turpis vel risus lacinia placerat. Integer volutpat eleifend tellus. Nam sed ante nec odio varius porta. Nullam elementum, ante sed sagittis condimentum, dolor enim varius felis, sit amet luctus lectus arcu non dolor.</p><hr class="bottom">
                      </div>
                      <h3><a href='' data-zoom='18' data-position='37.894547,-84.277290'>Indian Old Fields<br><span class="accordion-county">Clark County</span></a><hr class="top"></h3>
                      <div>
                        <p></p><hr class="bottom">
                      </div>
                      <h3><a href='' data-zoom='18' data-position='38.047015,-84.503161'>People's Bank + Other Modernist Structures<br><span class="accordion-county">Fayette County</span></a><hr class="top"></h3>
                      <div>
                        <p></p><hr class="bottom">
                      </div>
                      <h3><a href='' data-zoom='18' data-position='38.195781,-84.879039'>The Old YMCA<br><span class="accordion-county">Franklin County</span></a><hr class="top"></h3>
                      <div>
                        <p></p><hr class="bottom">
                      </div>
                      <h3><a href='' data-zoom='18' data-position='38.159872,-84.820387'>Blanton-Crutcher Farm<br><span class="accordion-county">Franklin County</span></a><hr class="top"></h3>
                      <div>
                        <p></p><hr class="bottom">
                      </div>
                      <h3><a href='' data-zoom='18' data-position='38.398416,-84.285669'>The Handy House (aka Ridgeway)<br><span class="accordion-county">Harrison County</span></a><hr class="top"></h3>
                      <div>
                        <p></p><hr class="bottom">
                      </div>
                      <h3><a href='' data-zoom='18' data-position='37.881086,-84.572737'>Court Row<br><span class="accordion-county">Jessamine County</span></a><hr class="top"></h3>
                      <div>
                        <p></p><hr class="bottom">
                      </div>
                      <h3><a href='' data-zoom='18' data-position='37.747858,-84.294475'>Downtown Richmond<br><span class="accordion-county">Madison County</span></a><hr class="top"></h3>
                      <div>
                        <p></p><hr class="bottom">
                      </div>
                      <h3><a href='' data-zoom='18' data-position='37.834408,-84.824225'>Walnut Hall<br><span class="accordion-county">Mercer County</span></a><hr class="top"></h3>
                      <div>
                        <p></p><hr class="bottom">
                      </div>
                      <h3><a href='' data-zoom='18' data-position='38.231948,-84.634176'>Choctaw Indian Academy<br><span class="accordion-county"><span class="accordion-county">Scott County</span></a><hr class="top"></h3>
                      <div>
                        <p></p><hr class="bottom">
                      </div>
                      <h3><a href='' data-zoom='18' data-position='38.051808,-84.724642'>Versailles High School<br><span class="accordion-county"><span class="accordion-county">Woodford County</span></a><hr class="top"></h3>
                      <div>
                        <p></p><hr class="bottom">
                      </div>
                </div>    
            </div>

            <!-- Sources -->
            <div class="sidebar-pane" id="sources">
                <h1>Sources</h1>
                <hr class="top">
                <h3>Georgetown Sanborn Map</h3>
                <hr class="bottom">
                
                <dl>
                  <dt>Description: </dt>
                    <dd>Derived from 19 sheets: "June 1912." Shows property lines, buildings with construction and insurance characteristics and addresses</dd>
                  <dt>Creator: </dt>
                    <dd>Sanborn Map Company</dd>
                  <dt>Repository: </dt>
                    <dd>University of Kentucky Special Collections Research Center</dd>
                  <dt>Access: </dt>
                      <dd>
                        <ul class="ul-none">
                            <li><a href="http://kdl.kyvl.org/" target="_blank">Kentucky Digital Archive</a></li>
                            <li><a href="http://exploreuk.uky.edu/" target="_blank">ExploreUK</a></li>
                        </ul>
                    </dd>
                </dl>
                <hr class="bottom">

                <br>

                <p>View the code and fork this map on <a href="https://github.com/gscplanning/sanborn" target="_blank">GitHub</a>.</p>
            </div>
        </div>
    </div>

    <!-- Map -->
    <div id="map" class="sidebar-map"></div>

    <!-- JavaScript -->
    <script src="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.js"></script>
    <script src="js/leaflet-sidebar.js"></script>
    <script src='//api.tiles.mapbox.com/mapbox.js/plugins/leaflet-omnivore/v0.2.0/leaflet-omnivore.min.js'></script>
    
    <!-- Mapping stuff -->
    <script>
        // var southWest = L.latLng(38.1529010062, -84.6837828154),
        //     northEast = L.latLng(38.3197065698, -84.4327807672),
        //     bounds = L.latLngBounds(southWest, northEast);

        var map = L.map('map', {
            // maxBounds: bounds,
            maxZoom: 19,
            minZoom: 9
        });
        map.setView([38.039844, -84.500656], 9);

        var OpenStreetMap_Mapnik = L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);
        // May still want to use HERE. It's nice imagery!
        // var HERE_satelliteDay = L.tileLayer('http://{s}.{base}.maps.cit.api.here.com/maptile/2.1/maptile/{mapID}/satellite.day/{z}/{x}/{y}/256/png8?app_id=LaVGiK8OFXTbRctQu6Q0&app_code=LZeM-VuB2Q-7GzKMcvVzYg', {
        //     attribution: 'Map &copy; 1987-2014 <a href="http://developer.here.com">HERE</a>',
        //     subdomains: '1234',
        //     mapID: 'newest',
        //     app_id: 'LaVGiK8OFXTbRctQu6Q0',
        //     app_code: 'LZeM-VuB2Q-7GzKMcvVzYg',
        //     base: 'aerial',
        //     maxNativeZoom: 19,
        //     maxZoom: 21,
           /* Why use maxNativeZoom?
            -HERE satellite.day only goes to z19 (which is still dang good), but we have maxZoom: 20. maxNativeZoom lets us continue to z20 with the tiles from z19!
            -Source: http://gis.stackexchange.com/questions/78843/zoom-further-in-with-leaflet-javascirpt-api
            -LeafletJS API: http://leafletjs.com/reference.html#tilelayer-maxnativezoom */
        //     minZoom: 9
        // }).addTo(map);
        
        var bgtData = omnivore.csv('data/bgt-endangered.csv', {
            latfield: 'lat',
            lonfield: 'lon',
            delimiter: ','
        }).addTo(map);

        var sidebar = L.control.sidebar('sidebar').addTo(map);

        document.querySelector('.map-navigation').onclick = function(abc) {
            var pos = abc.target.getAttribute('data-position');
            var zoom = abc.target.getAttribute('data-zoom');
            if (pos && zoom) {
                var locat = pos.split(',');
                var zoo = parseInt(zoom);
            map.setView(locat, zoo, {animation: true});
            return false;
            }
        } 
    </script>
    
    <!-- A little jQuery to keep the URL hash from updating when clicking the nav buttons -->
    <script>
    // event.preventDefault: (http://api.jquery.com/event.preventDefault/)
    // Idea frome Stack Overflow: (http://stackoverflow.com/a/20215413)
    $('.sidebar-nav').click(function(event){
        event.preventDefault();
    });
    </script>

</body>
</html>